<!-- need to set up multiple recipients -->

<div class="heading-all">
<h1>GIFT CERTIFICATES</h1>
<div class="underline"><p></p></div>
</div>
<venda_block label=1,errors=notnull><h2 class="error"><venda_errors></h2></venda_block label=1>

<div class="formset">
<p>To add a Gift Certificate to your basket you just need to complete the details below and click 'Continue'.</p>
<p>Please note that Gift Certificates are not redeemable for cash, non-transferable, are valid for one year from the date of issue, and are only redeemable at <venda_ebizname>.co.uk. Gift Certificates issued online are not redeemable in Urban Outfitters Europe stores.</p>

<script language="javascript" type="text/javascript">
<venda_inventory ref=giftcert,temp=giftcertvariables>
function textCounter(field, maxlimit) {
	if (field.value.length > maxlimit) {
		// trim if too long
		field.value = field.value.substring(0, maxlimit);
	}
}

function checkemail(str) {
	var filter=/^.+@.+\..{2,3}$/;
	return (filter.test(str))
}

function validateFields() {
	if (document.wizform.to.value=='') {
		alert('Please enter the name of the recipient.');
		document.wizform.to.focus();
		return;
	}
	else if (document.wizform.email.value=='') {
		alert('Please enter the email address of the recipient.');
		document.wizform.email.focus();
		return;
	}
	else if (!checkemail(document.wizform.email.value)) {	
		alert('Please enter a valid email address.');
		document.wizform.email.focus();
		return;
	}
	else if (document.wizform.amount.value=='') {
		alert('Please enter the value of the Gift Certificate you want to buy.');
		document.wizform.amount.focus();
		return;
	}
	var filterNumber = /^[0-9]*$/;
	if (filterNumber.test(document.wizform.amount.value) == false) {
		alert('Please enter a valid value.');
		document.wizform.amount.focus();
		return;
	}
	else if ((document.wizform.amount.value < minprice) || (document.wizform.amount.value > maxprice)) {
		alert('Please enter a value greater than £'+minprice+' and less than £'+maxprice);
		document.wizform.amount.focus();
		return;
	}
	else if (document.wizform.comment.value=='') {
		alert('Please enter a message.');
		document.wizform.comment.focus();
		return;
	}
	else if (document.wizform.from.value=='') {
		alert('Please enter your name.');
		document.wizform.from.focus();
		return;
	}
	else if (!document.wizform.giftcerttandc.checked) {
		alert('Please agree to the Terms & Conditions.');
		document.wizform.giftcerttandc.focus();
		return;
	}
	<venda_wizbutton step=next,mode=process,callonly=yes>;
}
</script>

<venda_form>
<input type="hidden" name="layout" value="checkout">
<input type="hidden" name="textcount" value="">

<fieldset>
<legend class="hide">Recipient Details</legend>
<div><strong>Recipient Details</strong></div>
<div><label for="to">Recipient's Name:<span class="required">*</span></label><input type="text" name="to" id="to" value="<venda_to>" size="25" maxlength="50"></div>
<div><label for="email">Recipient's Email:<span class="required">*</span></label><input type="text" name="email" id="email" value="<venda_email>" size="25" maxlength="50"></div>
<div><label for="amount">Gift Certificate Value:<span class="required">*</span></label><input type="text" name="amount" id="amount" value="<venda_amount>" size="3" maxlength="3"></div>
</fieldset>

<venda_inventory ref=giftcert,temp=giftcertpricing>
<p>Gift Certificates will be emailed to the Recipient's Email Address.</p>
<p>Please check that you have correctly entered the recipient's email address as we cannot redirect or refund Gift Certificates which have been redeemed by the wrong person on your instructions.</p>
<!-- <p>Note: Separate email addresses by commas or semicolons, e.g. john@hotmail.com;jane@hotmail.com.</p> -->

<fieldset>
<legend class="hide">Your Details</legend>
<div><strong>Your Details</strong></div>
<div><label for="comment">Your Message:<span class="required">*</span></label><textarea name="comment" id="comment" cols="25" rows="5" onKeyDown="textCounter(this,250);" onKeyUp="textCounter(this,250);"><venda_comment></textarea><br class="clear-all"><div class="clear-all"></div></div><div class="spacing"><p></p></div>
<div><label for="from">Your Name:<span class="required">*</span></label><input type="text" name="from" id="from" value="<venda_from>" size="25" maxlength="50"></div>
</fieldset>

<div><input class="chkbox" type="checkbox" name="giftcerttandc" id="giftcerttandc" value="1" <venda_block label=81,errors=notnull>checked</venda_block label=81>> <label for="giftcerttandc">Yes, I have read and agree to the <a href="#" onclick="popup('<venda_dispview stry=termsandconditionsforgift>&layout=popups','650','600','popup','no'); return false;">Terms &amp; Conditions</a>.</label></div>

<div id="buttons">
<input class="continue right" type="image" onClick="validateFields(); return false;" src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/bt_continue.gif" alt="continue" class="right">
<div class="clear-all"></div>
</div>

</form>

</div>
<!-- 
param1: <venda_param1>
param2: <venda_param2>
workflow: <venda_workflow>
page: wz_orgc-screen.html
 -->